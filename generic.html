<!DOCTYPE HTML>
<!--
	Solid State by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Implementation</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Page Wrapper -->
			<div id="page-wrapper">

				<!-- Header -->
					<header id="header">
						<h1><a href="index.html">Music dependencies analysis</a></h1>
						<nav>
							<a href="#menu">Menu</a>
						</nav>
					</header>

				<!-- Menu -->
					<nav id="menu">
						<div class="inner">
							<h2>Menu</h2>
							<ul class="links">
								<li><a href="index.html">Home</a></li>
								<li><a href="generic.html">Implementation</a></li>
								<li><a href="elements.html">Set up tutorial</a></li>
<!-- 								<li><a href="#">Log In</a></li>
								<li><a href="#">Sign Up</a></li> -->
							</ul>
							<a href="#" class="close">Close</a>
						</div>
					</nav>

				<!-- Wrapper -->
					<section id="wrapper">
						<header>
							<div class="inner">
								<h2>Implementation</h2>
								<p>Project grounding and problems solutions with examples</p>
							</div>
						</header>

						<!-- Content -->
							<div class="wrapper">
								<div class="inner">

									<h3 class="major">WHY THE NEED FOR BIG DATA?</h3>
									<p>Our project has to work with a huge amount of data and a simple application wouldn't have been suitable for many reasons. First of all, the music data: we had so many tracks, genres (around 900), artists for each country (around 194) and, moreover, we needed to process it in order to get usable results to be compared with other data taken from a totally different field, the HDI index and the depression rate (each one of these for each nation in the world). It sounds pretty clear that we couldn't have developed an application like this using simple coding or loops, since the response time would have been whopping. To solve this problem, we used two services: the Amazon Web Servers, which provided us a cluster on which we runned the code, and Apache Spark, a unified analytics engine for large-scale data processing.</p>

									<h3 class="major">HOW DOES IT WORK?</h3>
									<p>The project is based on the map-reduce model, using as programming language Python. We developed many phases to reach the final result. In order to work with the datasets we had to do a lot of data cleaning: First of all the music data: as the API could not give us music genres of each song we had to use the tags through track.getInfo. These tags could be many different things, for example the artist or song name, the year it was published or other things that are associated with the song. To find genres in these tags we first cleaned them so that all of the data has the same structures (e.g. no capital letters or special signs like "-"). Then we used the other list with the cleaned genres to compare each tag of a song. The genres would then be added up per country. The HDI and depression rates datasets also had to be cleaned before usage. The depression rates dataset gives values for the last 15 years of each country so we only used the most recent value as it is most accurate.</p>
										
<!-- 									<section class="features">
										<article>
											<a href="#" class="image"><img src="images/pic04.jpg" alt="" /></a>
											<h3 class="major">Sed feugiat lorem</h3>
											<p>Lorem ipsum dolor sit amet, consectetur adipiscing vehicula id nulla dignissim dapibus ultrices.</p>
											<a href="#" class="special">Learn more</a>
										</article>
										<article>
											<a href="#" class="image"><img src="images/pic05.jpg" alt="" /></a>
											<h3 class="major">Nisl placerat</h3>
											<p>Lorem ipsum dolor sit amet, consectetur adipiscing vehicula id nulla dignissim dapibus ultrices.</p>
											<a href="#" class="special">Learn more</a>
										</article>
									</section> -->

								</div>
							</div>

					</section>
				
					<section>
						<h3 class="major">Workflow</h3>
						<p>Now we're going to explain how we moved through the code and the guideline followed:</p>
						
						<h4>???</h4>
						<blockquote>??? </blockquote>
						<h4>Extract tags from last.fm API per country:</h4>
						<pre><code>
_def getSongInfo(mbid):_
          _return requests.get("http://ws.audioscrobbler.com/[...]_
          
          
         _def tagsExtractor(track):_
            _mbid = track['mbid'].replace('"', '')_
           _..._
            _if 'track' in response.keys():_
                   _topTagsAndLinks = response['track']['toptags']['tag']_
                   _tags = []_
                   _for tagsAndLinks in topTagsAndLinks:_
                      _tags.append(tagsAndLinks['name'])_
                      _..._
            _return tags_
            
        
        _def createGroups(country_attribute):_
             _country_attribute = country_attribute.sortBy(lambda x: x[1]).collect()_
             _number_of_groups = 15_
             _number_of_countries = int(len(country_attribute)/number_of_groups)_
             _country_attribute_groups = []_
             _..._ 

             _return country_attribute_groups_</code></pre>
						
						<h4>???</h4>
						<blockquote>??? </blockquote>
						<h4>Cleanup data and filter tags:</h4>
						<pre><code>
_def cleanup(tag_number):_
            _tag, number = tag_number_
            _newTag = tag.replace("-", " ").lower()_
            _return newTag, number_
            
            
       _genres_clean = sc.textFile('genres_clean.txt')_

       _for line in genres_clean.collect():_
       _genres_dict[line] = 0_
       _..._

       _for gt in depressionGroupsTags.collect():_

       _tag, number = gt_
       _if tag in genres_dict.keys():_
            _genres_dict[tag] = number_</code></pre>
						
						<h4>???</h4>
						<blockquote>??? </blockquote>
						<h4>Count the genres per group of countries:</h4>
						<pre><code>
_for key in genres_dict.keys():_
       _if genres_dict[key] != 0:
           groupOut.write("{}:{}\n".format(key, genres_dict[key]))_</code></pre>
					</section>

				<!-- Footer -->
					<section id="footer">
<!-- 						<div class="inner">
							<h2 class="major">Get in touch</h2>
							<p>Cras mattis ante fermentum, malesuada neque vitae, eleifend erat. Phasellus non pulvinar erat. Fusce tincidunt, nisl eget mattis egestas, purus ipsum consequat orci, sit amet lobortis lorem lacus in tellus. Sed ac elementum arcu. Quisque placerat auctor laoreet.</p>
							<form method="post" action="#">
								<div class="fields">
									<div class="field">
										<label for="name">Name</label>
										<input type="text" name="name" id="name" />
									</div>
									<div class="field">
										<label for="email">Email</label>
										<input type="email" name="email" id="email" />
									</div>
									<div class="field">
										<label for="message">Message</label>
										<textarea name="message" id="message" rows="4"></textarea>
									</div>
								</div>
								<ul class="actions">
									<li><input type="submit" value="Send Message" /></li>
								</ul>
							</form>
							<ul class="contact">
								<li class="icon solid fa-home">
									Untitled Inc<br />
									1234 Somewhere Road Suite #2894<br />
									Nashville, TN 00000-0000
								</li>
								<li class="icon solid fa-phone">(000) 000-0000</li>
								<li class="icon solid fa-envelope"><a href="#">information@untitled.tld</a></li>
								<li class="icon brands fa-twitter"><a href="#">twitter.com/untitled-tld</a></li>
								<li class="icon brands fa-facebook-f"><a href="#">facebook.com/untitled-tld</a></li>
								<li class="icon brands fa-instagram"><a href="#">instagram.com/untitled-tld</a></li>
							</ul>
							<ul class="copyright">
								<li>&copy; Untitled Inc. All rights reserved.</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
							</ul>
						</div> -->
					</section>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>
